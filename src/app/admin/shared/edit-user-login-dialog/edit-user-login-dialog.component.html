<p-dialog header="{{updateUserHader}} - Update Log In" (onHide)="onHide()" [(visible)]="displayUpdateUserDialogue" 
    [modal]="true"
    baseZIndex="1" [responsive]="true" [style]="{width: '600px', minWidth: '600px'}" [minY]="700" closable='true'
    dismissableMask='true' baseZIndex='0' closeOnEscape='true' responsive='true' class="edit-example-form-admin">
    <div>
        <form class="example-form" [formGroup]="updateUserForm">
            <div class="row">
                <div class="col-md-12">
                    <mat-form-field class="example-full-width relative-sec">
                        <input type="text" matInput placeholder='Email (Attention: if you change email - submit it before "forgot password")' formControlName="email">
                    </mat-form-field>
                    <div class="error-msg"
                        *ngIf="updateUserForm.controls['email'].dirty && updateUserForm.controls['email'].invalid">
                        <p class="form_error"
                            *ngIf="updateUserForm.controls['email'].dirty && updateUserForm.controls['email'].hasError('required')">
                            Please enter email address.</p>
                        <p class="form_error"
                            *ngIf="updateUserForm.controls['email'].dirty && updateUserForm.controls['email'].hasError('pattern')">
                            Please enter the correct email address</p>
                    </div>

                    <mat-form-field>
                      <mat-label>Select Country</mat-label>
                      <mat-select matInput type="tel" formControlName="country" placeholder="Select Country"
                        (selectionChange)="countryNameChange($event.value)">
                        <mat-option *ngFor="let country of countriesPhoneCodes" [value]="country.name">
                          {{country.name}}
                        </mat-option>
                      </mat-select>
                    </mat-form-field>

                    <mat-form-field>
                      <mat-select matInput type="tel" formControlName="countryCode" placeholder="Code"
                        (selectionChange)="countryCodeChange($event.value)">
                        <mat-option *ngFor="let country of countriesPhoneCodes" [value]="country.code">
                          {{country.code}}
                        </mat-option>
                      </mat-select>
                    </mat-form-field>

                    <mat-form-field class="example-full-width relative-sec">
                        <input type="text" matInput placeholder="OTP Phone" formControlName="phone_no">
                    </mat-form-field>
                    <div class="error-msg"
                        *ngIf="updateUserForm.controls['phone_no'].dirty && updateUserForm.controls['phone_no'].invalid">
                        <p class="form_error" *ngIf="updateUserForm.controls['phone_no'].hasError('required')">
                            Please enter phone
                        </p>
                    </div>
                </div>
            </div>
            <div class="col-md-12">
                <div class="btn-sec">
                    <button type="submit" [disabled]="!updateUserForm.valid" mat-raised-button color="primary" class="btn-login"
                        (click)="updateUserData()">
                        Submit
                    </button>
                    <button type="submit" [disabled]="!updateUserForm.valid" mat-raised-button color="primary" class="btn-forgot-password"
                        (click)="sendForgetPasswordEmail()">
                        Forgot password
                    </button>
                </div>
            </div>
        </form>
    </div>
    <div class="spinner-section" *ngIf="loader">
        <mat-spinner *ngIf="loader"></mat-spinner>
    </div>
</p-dialog>
