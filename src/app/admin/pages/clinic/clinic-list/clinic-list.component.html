<div class="content-wrapper">
    <div class="spinner-section" *ngIf="loader">
        <mat-spinner *ngIf="loader"></mat-spinner>
    </div>
    <div class="wrapper-main-heading">
        <div class="main-title">
            <h2>Clinic</h2>
            <div class="add_new_user">
                <button [routerLink]="['/layout/admin/clinic/clinic-add']">
                    <i class="material-icons">person_add</i> Add Clinic </button>
            </div>
        </div>
    </div>

    <div class="common-background">
        <div class="sub-heading">
            <h2>Clinic List</h2>
            <form class="example-form" [formGroup]="clinicFilterForm" (ngSubmit)="clinicList();">
                <div class="cases-filter">
                    <mat-form-field class="example-full-width">
                        <span matPrefix>
                            <i class="material-icons">search</i>
                        </span>
                        <input type="tel" matInput placeholder="Search" formControlName="searchText">
                    </mat-form-field>
                </div>
                <!-- <mat-form-field class="example-full-width">
                    <span matPrefix>
                        <i class="material-icons">date_range</i>
                    </span>
                    <input matInput [matDatepicker]="dateSort" placeholder="Sort By Date" formControlName="dateSort" (dateInput)="dateFilter($event)"
                        (dateChange)="dateFilter($event)">
                    <mat-datepicker-toggle matSuffix [for]="dateSort">
                    </mat-datepicker-toggle>
                    <mat-datepicker #dateSort></mat-datepicker>
                </mat-form-field> -->
                <div class="wrapper-main-heading">
                    <div class="main-title">
                        <div class="add_new_user">
                            <button (click)="clinicList();">Search</button>
                        </div>
                    </div>
                    <div class="main-title">
                        <div class="add_new_user">
                            <button (click)="resetFormFilter();">Reset</button>
                        </div>
                    </div>
                </div>
            </form>
        </div>
        <div class="table-responsive cases-table LawyerListTable">
            <table mat-table [dataSource]="clinicListData" class="tb-wid ">
                <ng-container matColumnDef="Clinic Name">
                    <th mat-header-cell *matHeaderCellDef> CLINIC NAME 
                        <button class="up-btn" (click)="sortBy('name',1)" matTooltip="Ascending"><mat-icon>keyboard_arrow_up</mat-icon></button>
                        <button class="down-btn" (click)="sortBy('name',-1)" matTooltip="Descending"><mat-icon>keyboard_arrow_down</mat-icon></button>    
                    </th>
                    <td mat-cell *matCellDef="let element">
                        {{element.name ? element.name : ''}}
                    </td>
                </ng-container>
                <ng-container matColumnDef="Registration No.">
                    <th mat-header-cell *matHeaderCellDef> RESISTRATION NO. 
                        <button class="up-btn" (click)="sortBy('registration_no',1)" matTooltip="Ascending"><mat-icon>keyboard_arrow_up</mat-icon></button>
                        <button class="down-btn" (click)="sortBy('registration_no',-1)" matTooltip="Descending"><mat-icon>keyboard_arrow_down</mat-icon></button>    
                    </th>
                    <td mat-cell *matCellDef="let element">
                        {{element.registration_no ? element.registration_no : ''}}
                    </td>
                </ng-container>
                <ng-container matColumnDef="Phone No.">
                    <th mat-header-cell *matHeaderCellDef> CONTACT </th>
                    <td mat-cell *matCellDef="let element">
                        {{element.contact ? element.contact : ''}}
                    </td>
                </ng-container>
                <ng-container matColumnDef="Address">
                    <th mat-header-cell *matHeaderCellDef> ADDRESS </th>
                    <td mat-cell *matCellDef="let element">
                        {{element.address ? element.address : ''}}
                    </td>
                </ng-container>
                <ng-container matColumnDef="status">
                    <th mat-header-cell *matHeaderCellDef> STATUS </th>
                    <td mat-cell *matCellDef="let element">
                            <mat-slide-toggle 
                            matTooltip="{{element.isActive== true ? 'Active' : 'Deactive'}}"
                            (change)="activeDeactive($event,element)"
                            [checked]="element.isActive"
                            ></mat-slide-toggle>
                            <!-- {{element.name ? element.isActive : ''}} -->
                    </td>
                </ng-container>
                <ng-container matColumnDef="action">
                    <th mat-header-cell *matHeaderCellDef> ACTIONS </th>
                    <td mat-cell *matCellDef="let element">
                        <div class="actionIcon">
                            <a class="viewI" [routerLink]="['/layout/admin/clinic/clinic-view',element._id]" matTooltip="View">
                                <i class="material-icons view-icons">visibility</i>
                            </a>
                            <a class="viewI" [routerLink]="['/layout/admin/clinic/clinic-edit',element._id]" matTooltip="Edit">
                                <i class="material-icons edit-icons">edit</i>
                            </a>
                            <a class="viewI" matTooltip="Delete" (click)="openDialog(element._id)">
                                <i class="material-icons delete-icons">delete</i>
                            </a>
                        </div>

                    </td>
                </ng-container>

                <tr mat-header-row *matHeaderRowDef="displayColumns"></tr>
                <tr mat-row *matRowDef="let row; columns: displayColumns;"></tr>
            </table>
            <div *ngIf="noRecordFound" class="mt-3 ml-5 text-center">
                No Records Found
            </div>


        </div>

        <mat-paginator [length]="totalCount" [pageSize]="count" (page)="paginate($event)" [pageSizeOptions]="[5,10,15,20]" showFirstLastButtons></mat-paginator>

    </div>
</div>